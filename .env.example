# ========================================
# Raspberry Pi Jukebox Configuration
# ========================================
# Copy this file to .env and update with your values
# Required variables are marked with [REQUIRED]

# ========================================
# HARDWARE MODE
# ========================================
# Set to false for headless/development mode (no physical hardware)
# Set to true for full hardware mode with display, RFID, and buttons
HARDWARE_MODE=true

# ========================================
# SUBSONIC / NAVIDROME CONFIGURATION
# ========================================
# [REQUIRED] Connection to your music server
SUBSONIC_URL=http://your-subsonic-server:4747
SUBSONIC_USER=your_subsonic_username
SUBSONIC_PASS=your_subsonic_password

# Advanced Subsonic Settings (optional)
SUBSONIC_CLIENT=jukebox
SUBSONIC_API_VERSION=1.15.0

# Chromecast Streaming Configuration
# If you're behind a reverse proxy or using HTTPS, set this to your public URL
# This is used to generate URLs that Chromecast devices can access
SUBSONIC_CAST_BASE_URL=
PUBLIC_BASE_URL=

# Basic Auth for Subsonic Proxy (if needed)
SUBSONIC_PROXY_BASIC_USER=
SUBSONIC_PROXY_BASIC_PASS=

# ========================================
# DATABASE CONFIGURATION
# ========================================
# SQLite database is used automatically at app/database/album.db
# No additional configuration needed

# ========================================
# CHROMECAST CONFIGURATION
# ========================================
# Default Chromecast device name
DEFAULT_CHROMECAST_DEVICE=Living Room

# Timeout Configuration (seconds)
CHROMECAST_DISCOVERY_TIMEOUT=3
CHROMECAST_WAIT_TIMEOUT=10

# ========================================
# PLAYBACK BACKEND CONFIGURATION
# ========================================
# Select active backend: chromecast | mpv
PLAYBACK_BACKEND=chromecast

# MPV local playback configuration (used when PLAYBACK_BACKEND=mpv)
MPV_BINARY=mpv
MPV_IPC_SOCKET=/tmp/jukebox-mpv.sock
MPV_AUDIO_DEVICE=
MPV_EXTRA_ARGS=
MPV_STARTUP_TIMEOUT_SECONDS=5
MPV_MSG_LEVEL=
MPV_LOG_FILE=

# MPV buffering/cache tuning
MPV_CACHE_ENABLED=true
MPV_CACHE_SECS=90
MPV_DEMUXER_MAX_BYTES=128MiB
MPV_DEMUXER_MAX_BACK_BYTES=32MiB
MPV_AUDIO_BUFFER_SECONDS=1.2
MPV_DIAGNOSTIC_INTERVAL_SECONDS=20
MPV_STALL_WARNING_SECONDS=90

# Optional Bluetooth speaker settings (for MPV local playback)
BT_SPEAKER_MAC=
BT_AUTO_RECONNECT=true

# ========================================
# DISPLAY CONFIGURATION
# ========================================
# Display resolution
DISPLAY_WIDTH=480
DISPLAY_HEIGHT=320
DISPLAY_ROTATION=0

# Display GPIO Pins
DISPLAY_POWER_GPIO=20
DISPLAY_BACKLIGHT_GPIO=18
DISPLAY_GPIO_CS=8
DISPLAY_GPIO_DC=6
DISPLAY_GPIO_RST=5

# ========================================
# RFID READER CONFIGURATION
# ========================================
# RFID GPIO Pins
RFID_CS_PIN=7
NFC_CARD_SWITCH_GPIO=4

# RFID Settings
RFID_POLL_INTERVAL=1.0
RFID_READ_TIMEOUT=5.0
RFID_THREAD_JOIN_TIMEOUT=1

# ========================================
# ROTARY ENCODER CONFIGURATION
# ========================================
ROTARY_ENCODER_PIN_A=27
ROTARY_ENCODER_PIN_B=22
ENCODER_BOUNCETIME=10

# ========================================
# BUTTON CONFIGURATION
# ========================================
# Button GPIO Pins (from app/config.py button mapping)
BUTTON_BOUNCETIME=200

# Note: Individual button pins are configured in app/config.py
# Default mapping:
# - BUTTON_0_GPIO: 26 (Previous track)
# - BUTTON_1_GPIO: 14 (Play/Pause)  
# - BUTTON_2_GPIO: 15 (Next track)
# - BUTTON_3_GPIO: 12 (Volume down)
# - BUTTON_4_GPIO: 19 (Volume up)
# - BUTTON_5_GPIO: 17 (Stop)

# ========================================
# TIMEOUT CONFIGURATION
# ========================================
HTTP_REQUEST_TIMEOUT=10

# ========================================
# LOGGING CONFIGURATION
# ========================================
LOG_LEVEL=INFO
DEBUG_MODE=false

# Remote syslog server (optional)
LOG_SERVER_HOST=localhost
LOG_SERVER_PORT=514

# ========================================
# SECURITY CONFIGURATION
# ========================================
# API Key for protected endpoints (optional but recommended for production)
API_KEY=

# CORS Configuration (comma-separated origins, or * for all)
CORS_ALLOW_ORIGINS=*

# Allowed hosts for Host header validation (comma-separated, or * for all)
ALLOWED_HOSTS=*

# Allow local requests to bypass API key requirement
ALLOW_LOCAL_API_BYPASS=true

# Force HTTPS redirect (set to true in production with reverse proxy)
ENABLE_HTTPS_REDIRECT=false

# ========================================
# API DOCUMENTATION
# ========================================
# Enable interactive API docs (disable in production for security)
ENABLE_DOCS=false
DOCS_URL=/docs
OPENAPI_URL=/openapi.json

# ========================================
# FILE PATHS
# ========================================
# Path for static files (album covers, etc.)
STATIC_FILE_PATH=static_files

# Font base path
FONT_BASE_PATH=fonts
